<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Provider: Google Calendar | OpenCUI</title>
    <meta name="description" content="Type-based Approach for Chatbot Development">
    <meta name="generator" content="VitePress v1.0.0-rc.44">
    <link rel="preload stylesheet" href="/assets/style.BiTEbHIi.css" as="style">
    
    <script type="module" src="/assets/app.DDWhSvCC.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.BGFi9fUZ.js">
    <link rel="modulepreload" href="/assets/chunks/theme.B_5FO281.js">
    <link rel="modulepreload" href="/assets/articles_reservation_google-calendar-reservation.md.COMjVEw7.lean.js">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-L6RW3F0FPM"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-L6RW3F0FPM");</script>
    <script id="check-dark-mode">document.documentElement.classList.add("dark");</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-19c990f1><div class="wrapper" data-v-19c990f1><div class="container" data-v-19c990f1><div class="title" data-v-19c990f1><div class="VPNavBarTitle" data-v-19c990f1 data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/images/logo.png" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>OpenCUI</span><!--[--><!--]--></a></div></div><div class="content" data-v-19c990f1><div class="content-body" data-v-19c990f1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-19c990f1><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-19c990f1 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/essentials/" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Why OpenCUI</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/reference/guide/signingup.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Resources</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pricing/" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Pricing</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/articles/" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Blog</span><!--]--></a><!--]--><!--]--></nav><!----><!----><!----><div class="VPFlyout VPNavBarExtra extra" data-v-19c990f1 data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--]--></div></div></div><!--[--><!--[--><!--[--><a href="https://build.opencui.io" target="_blank"><button class="button-start"> Get started </button></a><!--]--><!--]--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-19c990f1 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-19c990f1><div class="divider-line" data-v-19c990f1></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-d2ecc192><button data-v-d2ecc192>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _articles_reservation_google-calendar-reservation" data-v-39a288b8><div><h1 id="provider-google-calendar" tabindex="-1">Provider: Google Calendar <a class="header-anchor" href="#provider-google-calendar" aria-label="Permalink to &quot;Provider: Google Calendar&quot;">​</a></h1><p>With Google Calendar, you and your team can easily create and schedule events and resources, share group calendars, track schedules, and more. Based on the convenience of google calendar in reservation scenarios, OpenCUI provides Google Calendar Reservation extension, which allows you to use reservation-related functionality directly in chatbot without additional development.</p><p>Google Calendar Reservation works across Google Workspace. Before you begin, make sure you are done with signing up for <a href="https://support.google.com/a/answer/53926" target="_blank" rel="noreferrer">Google Workspace</a>.</p><nav class="table-of-contents"><ul><li><a href="#set-up-google-workspace">Set up Google Workspace</a><ul><li><a href="#create-a-google-cloud-project">Create a Google Cloud Project</a></li><li><a href="#enable-google-workspace-apis">Enable Google Workspace APIs</a></li></ul></li><li><a href="#set-up-service-account">Set up service account</a><ul><li><a href="#create-a-service-account">Create a service account</a></li><li><a href="#delegate-domain-wide-authority-to-service-account">Delegate domain-wide authority to service account</a></li></ul></li><li><a href="#set-up-google-calendar-reservation-provider">Set up Google Calendar reservation provider</a></li><li><a href="#resources-management">Resources management</a><ul><li><a href="#resources-in-google-calendar">Resources in Google Calendar</a></li><li><a href="#resources-in-opencui">Resources in OpenCUI</a></li><li><a href="#specify-required-properties">Specify required properties</a></li></ul></li><li><a href="#testing">Testing</a></li></ul></nav><h2 id="set-up-google-workspace" tabindex="-1">Set up Google Workspace <a class="header-anchor" href="#set-up-google-workspace" aria-label="Permalink to &quot;Set up Google Workspace&quot;">​</a></h2><p>Each Google Workspace app or integration has its own Google Cloud project where you configure APIs, set up authentication, and manage deployments. To get started, you need a Google Cloud Project.</p><h3 id="create-a-google-cloud-project" tabindex="-1">Create a Google Cloud Project <a class="header-anchor" href="#create-a-google-cloud-project" aria-label="Permalink to &quot;Create a Google Cloud Project&quot;">​</a></h3><ol><li>Click here to <a href="https://console.cloud.google.com/projectcreate" target="_blank" rel="noreferrer">Create a Project</a>. Or in the Google Cloud console, go to <strong>Menu</strong> &gt; <strong>IAM &amp; Admin</strong> &gt; <strong>Create a Project</strong>.</li><li>In the <strong>Project Name</strong> field, enter a descriptive name for your project. <blockquote><p>Optional: To edit the <strong>Project ID</strong>, click <strong>Edit</strong>. The project ID can&#39;t be changed after the project is created, so choose an ID that meets your needs for the lifetime of the project.</p></blockquote></li><li>In the <strong>Location</strong> field, click <strong>Browse</strong> to display potential locations for your project. Then, click <strong>Select</strong>.</li><li>Click <strong>Create</strong>. The console navigates to the Dashboard page and your project is created within a few minutes.</li></ol><p>For further information on Google Cloud projects, refer to <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects" target="_blank" rel="noreferrer">Creating and managing projects</a>.</p><p><img src="/images/plugins/reservation/googlecalendar/create_cloud_project.png" alt="create cloud project"></p><h3 id="enable-google-workspace-apis" tabindex="-1">Enable Google Workspace APIs <a class="header-anchor" href="#enable-google-workspace-apis" aria-label="Permalink to &quot;Enable Google Workspace APIs&quot;">​</a></h3><p>To make Google Calendar Reservation extension work, you need to enable APIs below in your Google Cloud project:</p><ol><li><p>In the Google Cloud console, go to <strong>Menu</strong> &gt; <strong>More products</strong> &gt; <strong>Google Workspace</strong> &gt; <strong>Product Library</strong>.</p><p><img src="/images/plugins/reservation/googlecalendar/product_library.png" alt="product library"></p></li><li><p>Enable <strong>Admin SDK API</strong> and <strong>Google Calendar API</strong> :</p><ol><li>Click the API that you want to turn on.</li><li>On the detail page of this API, click <strong>Enable</strong>.</li><li>Repeat these steps to enable another.</li></ol><p><img src="/images/plugins/reservation/googlecalendar/enable_apis.png" alt="enable APIs"></p></li></ol><h2 id="set-up-service-account" tabindex="-1">Set up service account <a class="header-anchor" href="#set-up-service-account" aria-label="Permalink to &quot;Set up service account&quot;">​</a></h2><blockquote><p>The Google OAuth 2.0 system supports server-to-server interactions such as those between a web application and a Google service. For this scenario you need a service account, which is an account that belongs to your application instead of to an individual end user. For more information, see <a href="https://developers.google.com/identity/protocols/oauth2/service-account#delegatingauthority" target="_blank" rel="noreferrer">Using OAuth 2.0 for Server to Server Applications</a>.</p></blockquote><p>To support server-to-server interactions, first create a service account for your project in the API Console, then delegate domain-wide access to the service account.</p><h3 id="create-a-service-account" tabindex="-1">Create a service account <a class="header-anchor" href="#create-a-service-account" aria-label="Permalink to &quot;Create a service account&quot;">​</a></h3><p>If your application runs on Google App Engine, a service account is set up automatically when you create your project.</p><p>If your application runs on Google Compute Engine, a service account is also set up automatically when you create your project, but you must specify the scopes that your application needs access to when you create a Google Compute Engine instance. For more information, see <a href="https://cloud.google.com/compute/docs/access/create-enable-service-accounts-for-instances#using" target="_blank" rel="noreferrer">Preparing an instance to use service accounts</a>.</p><p>If your application doesn&#39;t run on Google App Engine or Google Compute Engine, you must obtain these credentials in the Google API Console. To generate service-account credentials, or to view the public credentials that you&#39;ve already generated, do the following:</p><h4 id="_1-create-a-service-account" tabindex="-1">1. Create a service account <a class="header-anchor" href="#_1-create-a-service-account" aria-label="Permalink to &quot;1. Create a service account&quot;">​</a></h4><ol><li>Open the <a href="https://console.developers.google.com/iam-admin/serviceaccounts" target="_blank" rel="noreferrer">Service accounts page</a>.</li><li>If prompted, select a project, or create a new one.</li><li>Click add <strong>Create service account</strong>.</li><li>Under <strong>Service account details</strong>, type a name, ID, and description for the service account, then click <strong>Create and continue</strong>.</li><li>Optional: Under <strong>Grant this service account access to project</strong>, select the IAM roles to grant to the service account. Click <strong>Continue</strong>.</li><li>Optional: Under <strong>Grant users access to this service account</strong>, add the users or groups that are allowed to use and manage the service account.</li><li>Click <strong>Done</strong>.</li></ol><p><img src="/images/plugins/reservation/googlecalendar/create_service_account.png" alt="create service account"></p><h4 id="_2-create-a-service-account-key" tabindex="-1">2. Create a service account key <a class="header-anchor" href="#_2-create-a-service-account-key" aria-label="Permalink to &quot;2. Create a service account key&quot;">​</a></h4><ol><li>Click the email address for the service account you created.</li><li>Click the <strong>Keys</strong> tab.</li><li>In the <strong>Add key</strong> drop-down list, select <strong>Create new key</strong>.</li><li>Select <strong>JSON</strong> key type and click <strong>Create</strong>. Your new public/private key pair is generated and downloaded to your machine; it serves as the only copy of the private key. You are responsible for storing it securely. If you lose this key pair, you will need to generate a new one.</li></ol><p><img src="/images/plugins/reservation/googlecalendar/create_service_account_key.png" alt="create service account key"></p><p>You can return to the <a href="https://console.developers.google.com/" target="_blank" rel="noreferrer">API Console</a> at any time to view the email address, public key fingerprints, and other information, or to generate additional public/private key pairs.</p><h3 id="delegate-domain-wide-authority-to-service-account" tabindex="-1">Delegate domain-wide authority to service account <a class="header-anchor" href="#delegate-domain-wide-authority-to-service-account" aria-label="Permalink to &quot;Delegate domain-wide authority to service account&quot;">​</a></h3><p>To delegate domain-wide authority to a service account, a super administrator of the Google Workspace domain must complete the following steps:</p><ol><li><p>From your Google Workspace domain&#39;s <a href="https://admin.google.com/" target="_blank" rel="noreferrer">Admin console</a>, go to <strong>Menu</strong> &gt; <strong>Security</strong> &gt; <strong>Access and data control</strong> &gt; <strong>API Controls</strong>.</p></li><li><p>In the <strong>Domain wide delegation</strong> pane, select <strong>Manage Domain Wide Delegation</strong>.</p><p><img src="/images/plugins/reservation/googlecalendar/domain_wide_delegation.png" alt="domain wide delegation"></p></li><li><p>Click <strong>Add new</strong>.</p><p><img src="/images/plugins/reservation/googlecalendar/add_new.png" alt="add new"></p></li><li><p>In the <strong>Add a new client ID</strong> popup window:</p><ol><li>In the <strong>Client ID</strong> field, enter the service account&#39;s <strong>Client ID</strong>. You can find your service account&#39;s client ID (<em>OAuth 2 Client ID</em>) in the <a href="https://console.developers.google.com/iam-admin/serviceaccounts" target="_blank" rel="noreferrer">Service accounts page</a>.</li><li>In the <strong>OAuth scopes (comma-delimited)</strong> field, enter the list of scopes:<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>https://www.googleapis.com/auth/calendar</span></span>
<span class="line"><span>https://www.googleapis.com/auth/admin.directory.resource.calendar</span></span></code></pre></div></li><li>Click <strong>Authorize</strong>.</li></ol><p><img src="/images/plugins/reservation/googlecalendar/authorize.png" alt="Authorize"></p></li></ol><p>The app should be available for use within an hour, but might take up to 24 hours.</p><h2 id="set-up-google-calendar-reservation-provider" tabindex="-1">Set up Google Calendar reservation provider <a class="header-anchor" href="#set-up-google-calendar-reservation-provider" aria-label="Permalink to &quot;Set up Google Calendar reservation provider&quot;">​</a></h2><p>To use Google Calendar Reservation Provider, you can follow steps in <a href="/reference/providers/native.html#wire-and-configure">Wire and Configure</a> to accomplish the following:</p><ol><li>Declare service interface <a href="https://build.opencui.io/org/services.opencui/agent/reservation/struct/service_schema" target="_blank" rel="noreferrer">services.opencui.reservation</a> into your chatbot.</li><li>Wire Google Calendar Reservation Provider (<em>services.opencui.googlCalendarReservation</em>) to this service interface.</li><li>Configuration the integration.</li></ol><p><img src="/images/plugins/reservation/googlecalendar/configuration_information.png" alt="configuration information"></p><p>To set up the configuration information:</p><ul><li><p><strong>Label</strong>: the integration label.</p></li><li><p><strong>Service Provider</strong>: must be <em>services.opencui.googleCalendarReservation</em>.</p></li><li><p><strong>Service Account Key</strong>: the JSON key you generated and downloaded to your machine in step <a href="#2-create-a-service-account-key">Create a service account key</a>.</p></li><li><p><strong>Customer ID</strong>: Admin account setting&#39;s Customer ID.</p><ol><li>From your Google Workspace domain&#39;s <a href="https://admin.google.com/" target="_blank" rel="noreferrer">Admin console</a>, go to <strong>Menu</strong> &gt; <strong>Account</strong> &gt; <strong>Account settings</strong>.</li><li>In the <strong>Profile</strong> pane, copy <strong>Customer ID</strong>.</li></ol><p><img src="/images/plugins/reservation/googlecalendar/customer_id.png" alt="Customer ID"></p></li><li><p><strong>Delegated User</strong>: specify an email address of the user account in your Google Workspace domain that the service account will impersonate. For example: <em><a href="mailto:user@example.com" target="_blank" rel="noreferrer">user@example.com</a></em>.</p></li></ul><h2 id="resources-management" tabindex="-1">Resources management <a class="header-anchor" href="#resources-management" aria-label="Permalink to &quot;Resources management&quot;">​</a></h2><h3 id="resources-in-google-calendar" tabindex="-1">Resources in Google Calendar <a class="header-anchor" href="#resources-in-google-calendar" aria-label="Permalink to &quot;Resources in Google Calendar&quot;">​</a></h3><p>Set up Calendar so your customers can book your domin shared resources, such as conference rooms, tables in restaurant, doctors in hospital, hairdressers, or whatever your company provides for customers. Start by listing all the buildings in your company. Google Calendar uses buildings as the foundation for all your resources. For more information about calendar resources, see <a href="https://support.google.com/a/answer/1033925" target="_blank" rel="noreferrer">Create buildings, features &amp; Calendar resources</a>.</p><p>Now sign in to your <a href="https://admin.google.com/" target="_blank" rel="noreferrer">Google Admin console</a>, do the following:</p><h4 id="_1-add-buildings" tabindex="-1">1. Add buildings <a class="header-anchor" href="#_1-add-buildings" aria-label="Permalink to &quot;1. Add buildings&quot;">​</a></h4><ol><li><p>In the Admin console, go to <strong>Menu</strong> &gt; <strong>Directory</strong> &gt; <strong>Buildings and resources</strong>, click <strong>Manage resources</strong>.</p></li><li><p>In the Manage resources section, click <strong>Add building</strong>.</p><p><img src="/images/plugins/reservation/googlecalendar/add_building.png" alt="add building"></p></li><li><p>In the Buildings section, click <strong>Add building</strong>. Enter the building information in the popup window and click <strong>Add building</strong>.</p><p><img src="/images/plugins/reservation/googlecalendar/add_building_popup.png" alt="add building popup"></p></li></ol><h4 id="_2-add-resources" tabindex="-1">2. Add resources <a class="header-anchor" href="#_2-add-resources" aria-label="Permalink to &quot;2. Add resources&quot;">​</a></h4><ol><li><p>In the Admin console, go to <strong>Menu</strong> &gt; <strong>Directory</strong> &gt; <strong>Buildings and resources</strong>, click <strong>Manage resources</strong>.</p></li><li><p>In the Manage resources section, click <strong>Add new resource</strong>.</p><p><img src="/images/plugins/reservation/googlecalendar/add_resource.png" alt="add resource"></p></li><li><p>Enter the resource information in the popup window. And click <strong>Add Resources</strong>.</p><p><img src="/images/plugins/reservation/googlecalendar/add_resource_popup.png" alt="add resource popup"></p></li></ol><h3 id="resources-in-opencui" tabindex="-1">Resources in OpenCUI <a class="header-anchor" href="#resources-in-opencui" aria-label="Permalink to &quot;Resources in OpenCUI&quot;">​</a></h3><p>As reservation service interface declares abstract <strong>Resource</strong>, you need to specify your concrete resources in your Module or Chatbot by declaring subclasses of Resource abstract frame. If you want to add any features to your resource, such as table size, nickname, service items, etc., which can be used to interact with customers and filter on the business side, you need to add them as slots for your concrete resources.</p><p>Now sign in to <a href="https://build.opencui.io/" target="_blank" rel="noreferrer">OpenCUI project</a>, do the following:</p><h4 id="_1-declare-subclass-of-resource" tabindex="-1">1. Declare subclass of Resource <a class="header-anchor" href="#_1-declare-subclass-of-resource" aria-label="Permalink to &quot;1. Declare subclass of Resource&quot;">​</a></h4><ol><li><strong>Create</strong> a concrete frame. Go to <strong>Frames</strong> page, click <strong>Create</strong>, type the frame Label and press the ENTER/RETURN key.</li><li><strong>Implement</strong> Resource. In the <strong>Implemented</strong> section, <strong>select</strong> <em>services.opencui.reservation.Resource</em>.</li></ol><p><img src="/images/plugins/reservation/googlecalendar/resource_subclass.png" alt="resource subclass"></p><h4 id="_2-declare-features-of-resource" tabindex="-1">2. Declare features of Resource <a class="header-anchor" href="#_2-declare-features-of-resource" aria-label="Permalink to &quot;2. Declare features of Resource&quot;">​</a></h4><p>To add features as slots for your concrete resource:</p><ol><li><p><strong>Create</strong> entity types for your features.</p><ol><li>Go to <strong>Entities</strong> page, click <strong>Create</strong>, type the entity Label and press the ENTER/RETURN key. (e.g. HairdresserName).</li><li><strong>Add</strong> entity instances you need. (<em>e.g. tony, zhangsan</em>) Don&#39;t forget to configure the expression at the language level.</li></ol><p><img src="/images/plugins/reservation/googlecalendar/add_entity.png" alt="add entity"></p></li><li><p>Add entity types as slots.</p><ol><li>Back to your concrete frame page.</li><li>In the <strong>Slots</strong> section, click <strong>Add Slots</strong> selector and select the entity type you want to add.</li></ol><p><img src="/images/plugins/reservation/googlecalendar/add_slot.png" alt="add slot"></p></li></ol><h3 id="specify-required-properties" tabindex="-1">Specify required properties <a class="header-anchor" href="#specify-required-properties" aria-label="Permalink to &quot;Specify required properties&quot;">​</a></h3><p>When you are done with setting up resources in both Calendar and OpenCUI, you need to specify the required properties of them in <a href="https://admin.google.com/" target="_blank" rel="noreferrer">Google Admin console</a>.</p><h4 id="_1-associate-timezone-with-buildings" tabindex="-1">1. Associate timezone with buildings <a class="header-anchor" href="#_1-associate-timezone-with-buildings" aria-label="Permalink to &quot;1. Associate timezone with buildings&quot;">​</a></h4><p>Each building configured in calendar needs to set a <code>timezone</code> in building&#39;s <strong>Description</strong>.</p><p><strong>JSON Representation</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;timezone&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;America/New_York&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th><th style="text-align:left;">Example</th></tr></thead><tbody><tr><td style="text-align:left;"><code>timezone</code></td><td style="text-align:left;">String</td><td style="text-align:left;">Required. The time zone of this building, also represents the timezone of each resource. (Formatted as an <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" target="_blank" rel="noreferrer">IANA Time Zone Database name</a>)</td><td style="text-align:left;"><em>America/New_York</em></td></tr></tbody></table><p><img src="/images/plugins/reservation/googlecalendar/building_description.png" alt="building description"></p><h4 id="_2-associate-features-with-resources" tabindex="-1">2. Associate features with resources <a class="header-anchor" href="#_2-associate-features-with-resources" aria-label="Permalink to &quot;2. Associate features with resources&quot;">​</a></h4><p>Each resource configured in calendar needs to be associated with a JSON format in resource <strong>Description(internal)</strong>, which will deserialize to OpenCUI concrete frame object (the subclass of resource frame type). At the same time, you can set the corresponding features for each resource through key-value pairs, which can be used for filtering.</p><ul><li>If resource is Identifiable: for example, users know which resource they are getting, like hairdresser. You should set <code>slotLabel</code> and <code>slotTypeInstancesLabel</code> as key-value pairs, like <code>&quot;hairdresserName&quot;: &quot;tony&quot;</code>.</li><li>If resource is Anonymous: for example, users do not know the identity of the resource, like tables, as long as the table meets their requirement, they do not care which table it is. You can set the corresponding key-value pairs you need to retrieve the resource.</li></ul><p><strong>JSON Representation</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;@class&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;FrameLabel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// fully-qualified name</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;durations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    3600</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    7200</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>@class</code></td><td style="text-align:left;">String</td><td style="text-align:left;">Required. The concrete frame label you defined in your Module or Chatbot, which implements <em>services.opencui.reservation.Resource</em>. Label should be the fully-qualified name.</td></tr><tr><td style="text-align:left;"><code>durations[]</code></td><td style="text-align:left;">Int[]</td><td style="text-align:left;">Required. How long should each appointment last. The time interval, in seconds.</td></tr></tbody></table><p>For example:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;@class&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;me.quickstart.reservationTest.Hairdresser&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;defaultDuration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3600</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;hairdresserName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tony&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><img src="/images/plugins/reservation/googlecalendar/resource_description.png" alt="resource description"></p><h2 id="testing" tabindex="-1">Testing <a class="header-anchor" href="#testing" aria-label="Permalink to &quot;Testing&quot;">​</a></h2><p>When you&#39;re done with the setup above, before defining the full interactions, you can run a simple test to make sure you have setup successfully. To run a simple test, you can create a PingPong skill and call these functions in response or input these request parameters dynamically through slots.</p><div class="tip custom-block"><p class="custom-block-title">Need To Know</p><p>The testing acts on real data, so use caution when trying methods that create, modify, or delete data.</p></div><p>Now let&#39;s use <code>getResourceInfo</code> as an example.</p><ol><li><p>In your chatbot, create a testing skill, for example, <em>Ping</em>.</p></li><li><p>Use services. Go to <strong>Schema</strong> tab, in the <strong>Services</strong> section, select <em>services.opencui.reservation</em>, click <strong>Save</strong>.</p><p><img src="/images/plugins/reservation/googlecalendar/testing_add_service.png" alt="testing add service"></p></li><li><p>Add actions. Go to <strong>Response</strong> tab, in the <strong>Default Action</strong> section, add the actions you need. In this case, we add <strong>Single Value Message</strong>.</p><p><img src="/images/plugins/reservation/googlecalendar/testing_add_reply.png" alt="testing add reply"></p></li><li><p>Click <strong>Commit</strong>, and switch to language level.</p></li><li><p>Add language template and exemplar:</p><ol><li>Go to <strong>Expression</strong> tab, add <strong>Names</strong> and <strong>Expressions</strong>.</li></ol><p><img src="/images/plugins/reservation/googlecalendar/testing_add_expression.png" alt="testing add expression"></p><ol start="2"><li>Go to <strong>Response</strong> tab, add the reply and call the <code>getResourceInfo</code> function.</li></ol><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// change &quot;xxxxxxxx&quot; to your resource id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">This </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Resource id xxxxxxxx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;s info: </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">${ (reservation.getResourceInfo(&quot;xxxxxxxx&quot;) as Hairdresser)!!.hairdresserName!!.expression() }</span></span></code></pre></div><p><img src="/images/plugins/reservation/googlecalendar/testing_call_function.png" alt="testing call function"></p></li><li><p>Click <strong>Commit</strong>, and test it in <strong>Debug</strong>. If you get the correct response, congratulations, you have successfully completed the configuration.</p><p><img src="/images/plugins/reservation/googlecalendar/testing_debug.png" alt="testing debug"></p></li></ol></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--]--><div class="edit-info" data-v-09de1c0f><!----><div class="last-updated" data-v-09de1c0f><p class="VPLastUpdated" data-v-09de1c0f data-v-7e05ebdb>Last updated: <time datetime="2023-05-01T01:20:50.000Z" data-v-7e05ebdb></time></p></div></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><!----><p class="copyright" data-v-e315a0ad>OpenCUI, Inc © 2024 All rights reserved</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"articles_from-schema-to-snippets.md\":\"Bqm-LLWD\",\"articles_reservation-cui-design.md\":\"GsBzMPOM\",\"essentials_architecture.md\":\"0uwtbsVk\",\"essentials_du_tuning-strategy.md\":\"D-Hs-Cic\",\"essentials_index.md\":\"DfHDNCKN\",\"reference_platform_multilingual.md\":\"C0RPVfVl\",\"reference_guide_signingup.md\":\"BwLTIGxS\",\"articles_reservation_readme.md\":\"R3zW1J9x\",\"reference_channels_messenger.md\":\"CkgCldW6\",\"articles_reservation_google-calendar-reservation.md\":\"COMjVEw7\",\"reference_platform_deployment.md\":\"DNOIQjNO\",\"articles_build-reservation-module.md\":\"DikMPx8r\",\"reference_platform_reusability.md\":\"BYlr6WUi\",\"reference_channels_universalmessage.md\":\"Z60cF0dA\",\"reference_platform_testing.md\":\"BTJCu4k9\",\"reference_plugins_components_datepicker_index.md\":\"Dn1tovap\",\"reference_platform_versioncontrol.md\":\"DNYjAH_c\",\"reference_providers_googlesheets.md\":\"R0vlK9eY\",\"reference_plugins_components_datepicker_datepicker-design.md\":\"V3TbNfJK\",\"copilot_overview.md\":\"BQ2Ty8jj\",\"copilot_why-copilot.md\":\"Bx2BoNf7\",\"index.md\":\"Dx7PNWiK\",\"essentials_document-requirement-for-cui.md\":\"FoUaXjeQ\",\"reference_annotations_templateandexemplar.md\":\"B-890xH2\",\"copilot_define-api.md\":\"B6BIwcCO\",\"reference_guide_opencui-flow.md\":\"Br_qIrP-\",\"copilot_build-copilot.md\":\"BDe7eaqz\",\"reference_annotations_transition.md\":\"DQiD4ZSP\",\"essentials_du_chatgpt-reset.md\":\"DoPtvbJY\",\"reference_annotations_valuecheck.md\":\"4CnPuOcd\",\"articles_reuse-reservation-module.md\":\"DDEoUIYM\",\"reference_channels_wpa.md\":\"BcHeeyho\",\"reference_channels_whatsapp.md\":\"DD1fg3rH\",\"reference_conversation-design_design-for-long-tail.md\":\"Fus1TQAq\",\"reference_conversation-design_conversation-design.md\":\"CZfmW0Ig\",\"reference_channels_googlebusiness.md\":\"CTx49kPr\",\"reference_conversation-design_get-started.md\":\"h504Lgeq\",\"reference_conversation-design_gathering-requirements.md\":\"BuQFKBN8\",\"reference_conversation-design_scale-your-design.md\":\"rZ0neX1W\",\"reference_conversation-design_test-and-iterate.md\":\"Cj_Rg9kW\",\"reference_conversation-design_key-use-cases.md\":\"SbdQOyVi\",\"reference_guide_are-you-ready.md\":\"FO4SQ4Xy\",\"reference_glossary.md\":\"BMcvZQTj\",\"reference_guide_build-module.md\":\"kRG2Eu1W\",\"reference_guide_3layers.md\":\"wF7s08hg\",\"reference_guide_build-simple-chatbot.md\":\"CH6GW6eR\",\"reference_guide_build-provider.md\":\"CsBiyHu4\",\"copilot_opencui-sdk.md\":\"DhjY3Cvg\",\"reference_guide_clone-simple-chatbot.md\":\"2K7RME0N\",\"reference_guide_index.md\":\"DS_ALjK4\",\"reference_guide_deploy-to-channel.md\":\"yMMT8Vwy\",\"reference_guide_concepts.md\":\"BAwc2G9N\",\"essentials_du_maintainable-accuracy.md\":\"Dehdy1Q-\",\"reference_annotations_fillstrategy.md\":\"M_dqhXyT\",\"articles_chatbot-development-with-opencui.md\":\"DFvuiTMY\",\"essentials_du_new-formulations.md\":\"a0TyqG9p\",\"reference_annotations_systemcomponent.md\":\"zF0Qksbj\",\"reference_annotations_overview.md\":\"C8gdyqhV\",\"essentials_components.md\":\"dfRxGk3M\",\"essentials_du_towards-zero-shot.md\":\"Cv7ig6Ec\",\"reference_index.md\":\"CLIQClTm\",\"essentials_5levels-cui.md\":\"DleMDsAF\",\"reference_annotations_valuerec.md\":\"6JGtu5kU\",\"policy_privacy.md\":\"CcbqRm4T\",\"essentials_dual-process.md\":\"DcW2aDXJ\",\"articles_reservation_reservation-api.md\":\"wsJnoqQ3\",\"articles_index.md\":\"DpPk6wG0\",\"essentials_cooperative.md\":\"B9xLqsFw\",\"reference_annotations_init.md\":\"BxeIo6qE\",\"reference_annotations_kotlinexpression.md\":\"DW9doe1Z\",\"reference_platform_access.md\":\"J4R-uP_I\",\"reference_providers_native.md\":\"VnpUXQKm\",\"reference_annotations_confirmation.md\":\"vgztIO1a\",\"reference_support_overview.md\":\"B7aUBAjw\",\"pricing_index.md\":\"BSahpB5K\",\"essentials_du_du-theory.md\":\"BZDcMMGZ\",\"reference_providers_extension.md\":\"k6DXQKAI\",\"reference_conversation-design_design-interactions.md\":\"CuhcliE_\",\"essentials_newformulation.md\":\"3x3MgHtw\",\"reference_providers_overview.md\":\"BSVoRzqy\",\"reference_providers_postgrest.md\":\"B-3IpVUb\",\"reference_channels_overview.md\":\"CevogcFh\",\"policy_terms.md\":\"Jy2z_DwH\",\"reference_guide_reuse-component.md\":\"Cykv1b9-\",\"reference_support_chatwoot.md\":\"UGKCbkSC\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"OpenCUI\",\"description\":\"Type-based Approach for Chatbot Development\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":\"force-dark\",\"themeConfig\":{\"logo\":\"/images/logo.png\",\"outline\":\"deep\",\"nav\":[{\"text\":\"Why OpenCUI\",\"link\":\"/essentials/\",\"activeMatch\":\"/essentials/\"},{\"text\":\"Resources\",\"link\":\"/reference/guide/signingup\",\"activeMatch\":\"/reference/\"},{\"text\":\"Pricing\",\"link\":\"/pricing/\",\"activeMatch\":\"/pricing/\"},{\"text\":\"Blog\",\"link\":\"/articles/\",\"activeMatch\":\"/articles/\"}],\"sidebar\":{\"/essentials/\":[{\"text\":\"Why OpenCUI\",\"items\":[{\"text\":\"Dual process\",\"link\":\"/essentials/dual-process\"},{\"text\":\"Schema-guided conversational experiences\",\"link\":\"/essentials/\"},{\"text\":\"Cooperative principle\",\"link\":\"/essentials/cooperative\"},{\"text\":\"5 levels of CUI\",\"link\":\"/essentials/5levels-cui\"},{\"text\":\"Open sourced runtime\",\"link\":\"/essentials/architecture\"},{\"text\":\"Document CUI design\",\"link\":\"/essentials/document-requirement-for-cui\"},{\"text\":\"Dialog Understanding\",\"items\":[{\"text\":\"1: A ChatGPT reset\",\"link\":\"/essentials/du/chatgpt-reset\"},{\"text\":\"2: Theory\",\"link\":\"/essentials/du/du-theory\"},{\"text\":\"3: Towards zero shot\",\"link\":\"/essentials/du/towards-zero-shot\"},{\"text\":\"4: New formulations\",\"link\":\"/essentials/du/new-formulations\"},{\"text\":\"5: Tuning strategy\",\"link\":\"/essentials/du/tuning-strategy\"},{\"text\":\"6: Maintainable accuracy\",\"link\":\"/essentials/du/maintainable-accuracy\"}]}]}],\"/copilot/\":[{\"text\":\"Copilot\",\"items\":[{\"text\":\"Why copilot\",\"link\":\"/copilot/why-copilot\"},{\"text\":\"Development overview\",\"link\":\"/copilot/overview\"},{\"text\":\"Implement copilot meta API\",\"link\":\"/copilot/define-api\"},{\"text\":\"Build copilot backend\",\"link\":\"/copilot/build-copilot\"},{\"text\":\"Build copilot frontend\",\"link\":\"/copilot/opencui-sdk\"}]}],\"/reference/\":[{\"text\":\"Quickstart\",\"collapsed\":false,\"items\":[{\"text\":\"Get started\",\"link\":\"/reference/guide/signingup\"},{\"text\":\"Clone an echo chatbot\",\"link\":\"/reference/guide/clone-simple-chatbot\"},{\"text\":\"Build an echo chatbot\",\"link\":\"/reference/guide/build-simple-chatbot\"},{\"text\":\"Reuse an hours module\",\"link\":\"/reference/guide/reuse-component\"},{\"text\":\"Build an hours module\",\"link\":\"/reference/guide/build-module\"},{\"text\":\"Build an hours provider\",\"link\":\"/reference/guide/build-provider\"},{\"text\":\"Deploy a chatbot\",\"link\":\"/reference/guide/deploy-to-channel\"},{\"text\":\"Get a team\",\"link\":\"/reference/guide/are-you-ready\"},{\"text\":\"OpenCUI workflow\",\"link\":\"/reference/guide/opencui-flow\"},{\"text\":\"Key concepts\",\"link\":\"/reference/guide/concepts\"}]},{\"text\":\"CUI components\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/annotations/overview\"},{\"text\":\"Fill strategy\",\"link\":\"/reference/annotations/fillstrategy\"},{\"text\":\"Initialization\",\"link\":\"/reference/annotations/init\"},{\"text\":\"Value recommendation\",\"link\":\"/reference/annotations/valuerec\"},{\"text\":\"Value check\",\"link\":\"/reference/annotations/valuecheck\"},{\"text\":\"Confirmation\",\"link\":\"/reference/annotations/confirmation\"},{\"text\":\"State transition\",\"link\":\"/reference/annotations/transition\"},{\"text\":\"System CUI Components\",\"link\":\"/reference/annotations/systemcomponent\"}]},{\"text\":\"Providers\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/providers/overview\"},{\"text\":\"PostgreSQL provider\",\"link\":\"/reference/providers/postgrest\"}]},{\"text\":\"Channels\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/channels/overview\"},{\"text\":\"Universal Channel\",\"link\":\"/reference/channels/universalmessage\"},{\"text\":\"Google Business Message\",\"link\":\"/reference/channels/googlebusiness\"},{\"text\":\"Messenger\",\"link\":\"/reference/channels/messenger\"},{\"text\":\"WhatsApp\",\"link\":\"/reference/channels/whatsapp\"}]},{\"text\":\"Supports\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/support/overview\"},{\"text\":\"Chatwoot\",\"link\":\"/reference/support/Chatwoot\"}]},{\"text\":\"Extension\",\"collapsed\":false,\"items\":[{\"text\":\"Extensions\",\"link\":\"/reference/providers/extension\"},{\"text\":\"Native provider\",\"link\":\"/reference/providers/native\"}]},{\"text\":\"Conversation Design\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/conversation-design/conversation-design\"},{\"text\":\"Get started\",\"link\":\"/reference/conversation-design/get-started\"},{\"text\":\"Gathering requirements\",\"link\":\"/reference/conversation-design/gathering-requirements\"},{\"text\":\"Design interactions\",\"link\":\"/reference/conversation-design/design-interactions\"},{\"text\":\"Key use cases\",\"link\":\"/reference/conversation-design/key-use-cases\"},{\"text\":\"Test and iterate\",\"link\":\"/reference/conversation-design/test-and-iterate\"},{\"text\":\"Design for the long tail\",\"link\":\"/reference/conversation-design/design-for-long-tail\"},{\"text\":\"Scale your design\",\"link\":\"/reference/conversation-design/scale-your-design\"}]},{\"text\":\"Platform\",\"collapsed\":false,\"items\":[{\"text\":\"Multilingual\",\"link\":\"/reference/platform/multilingual\"},{\"text\":\"Testing\",\"link\":\"/reference/platform/testing\"},{\"text\":\"Deployment\",\"link\":\"/reference/platform/deployment\"},{\"text\":\"Version control\",\"link\":\"/reference/platform/versioncontrol\"},{\"text\":\"Access control\",\"link\":\"/reference/platform/access\"},{\"text\":\"Reusability\",\"link\":\"/reference/platform/reusability\"}]},{\"text\":\"Glossary\",\"link\":\"/reference/glossary\"}],\"/policy/\":[{\"text\":\"Terms of service\",\"link\":\"/policy/terms\"},{\"text\":\"Privacy policy\",\"link\":\"/policy/privacy\"}]},\"footer\":{\"copyright\":\"OpenCUI, Inc © 2024 All rights reserved\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>