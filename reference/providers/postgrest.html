<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PostgreSQL provider | OpenCUI</title>
    <meta name="description" content="Type-based Approach for Chatbot Development">
    <meta name="generator" content="VitePress v1.0.0-rc.44">
    <link rel="preload stylesheet" href="/assets/style.BiTEbHIi.css" as="style">
    
    <script type="module" src="/assets/app.DDWhSvCC.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.BGFi9fUZ.js">
    <link rel="modulepreload" href="/assets/chunks/theme.B_5FO281.js">
    <link rel="modulepreload" href="/assets/reference_providers_postgrest.md.B-3IpVUb.lean.js">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-L6RW3F0FPM"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-L6RW3F0FPM");</script>
    <script id="check-dark-mode">document.documentElement.classList.add("dark");</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar" data-v-ae24b3ad data-v-19c990f1><div class="wrapper" data-v-19c990f1><div class="container" data-v-19c990f1><div class="title" data-v-19c990f1><div class="VPNavBarTitle has-sidebar" data-v-19c990f1 data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/images/logo.png" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>OpenCUI</span><!--[--><!--]--></a></div></div><div class="content" data-v-19c990f1><div class="content-body" data-v-19c990f1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-19c990f1><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-19c990f1 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/essentials/" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Why OpenCUI</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/reference/guide/signingup.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Resources</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pricing/" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Pricing</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/articles/" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Blog</span><!--]--></a><!--]--><!--]--></nav><!----><!----><!----><div class="VPFlyout VPNavBarExtra extra" data-v-19c990f1 data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--]--></div></div></div><!--[--><!--[--><!--[--><a href="https://build.opencui.io" target="_blank"><button class="button-start"> Get started </button></a><!--]--><!--]--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-19c990f1 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-19c990f1><div class="divider-line" data-v-19c990f1></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-d2ecc192><button data-v-d2ecc192>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible" data-v-575e6a36 data-v-93e7e794><div class="item" role="button" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><h2 class="text" data-v-93e7e794>Quickstart</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-93e7e794><span class="vpi-chevron-right caret-icon" data-v-93e7e794></span></div></div><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/guide/signingup.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Get started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/guide/clone-simple-chatbot.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Clone an echo chatbot</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/guide/build-simple-chatbot.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Build an echo chatbot</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/guide/reuse-component.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Reuse an hours module</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/guide/build-module.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Build an hours module</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/guide/build-provider.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Build an hours provider</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/guide/deploy-to-channel.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Deploy a chatbot</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/guide/are-you-ready.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Get a team</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/guide/opencui-flow.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>OpenCUI workflow</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/guide/concepts.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Key concepts</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible" data-v-575e6a36 data-v-93e7e794><div class="item" role="button" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><h2 class="text" data-v-93e7e794>CUI components</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-93e7e794><span class="vpi-chevron-right caret-icon" data-v-93e7e794></span></div></div><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/annotations/overview.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/annotations/fillstrategy.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Fill strategy</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/annotations/init.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Initialization</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/annotations/valuerec.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Value recommendation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/annotations/valuecheck.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Value check</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/annotations/confirmation.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Confirmation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/annotations/transition.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>State transition</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/annotations/systemcomponent.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>System CUI Components</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible has-active" data-v-575e6a36 data-v-93e7e794><div class="item" role="button" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><h2 class="text" data-v-93e7e794>Providers</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-93e7e794><span class="vpi-chevron-right caret-icon" data-v-93e7e794></span></div></div><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/providers/overview.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/providers/postgrest.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>PostgreSQL provider</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible" data-v-575e6a36 data-v-93e7e794><div class="item" role="button" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><h2 class="text" data-v-93e7e794>Channels</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-93e7e794><span class="vpi-chevron-right caret-icon" data-v-93e7e794></span></div></div><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/channels/overview.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/channels/universalmessage.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Universal Channel</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/channels/googlebusiness.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Google Business Message</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/channels/messenger.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Messenger</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/channels/whatsapp.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>WhatsApp</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible" data-v-575e6a36 data-v-93e7e794><div class="item" role="button" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><h2 class="text" data-v-93e7e794>Supports</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-93e7e794><span class="vpi-chevron-right caret-icon" data-v-93e7e794></span></div></div><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/support/overview.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/support/Chatwoot.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Chatwoot</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible" data-v-575e6a36 data-v-93e7e794><div class="item" role="button" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><h2 class="text" data-v-93e7e794>Extension</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-93e7e794><span class="vpi-chevron-right caret-icon" data-v-93e7e794></span></div></div><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/providers/extension.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Extensions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/providers/native.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Native provider</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible" data-v-575e6a36 data-v-93e7e794><div class="item" role="button" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><h2 class="text" data-v-93e7e794>Conversation Design</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-93e7e794><span class="vpi-chevron-right caret-icon" data-v-93e7e794></span></div></div><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/conversation-design/conversation-design.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/conversation-design/get-started.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Get started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/conversation-design/gathering-requirements.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Gathering requirements</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/conversation-design/design-interactions.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Design interactions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/conversation-design/key-use-cases.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Key use cases</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/conversation-design/test-and-iterate.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Test and iterate</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/conversation-design/design-for-long-tail.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Design for the long tail</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/conversation-design/scale-your-design.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Scale your design</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible" data-v-575e6a36 data-v-93e7e794><div class="item" role="button" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><h2 class="text" data-v-93e7e794>Platform</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-93e7e794><span class="vpi-chevron-right caret-icon" data-v-93e7e794></span></div></div><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/platform/multilingual.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Multilingual</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/platform/testing.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Testing</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/platform/deployment.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Deployment</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/platform/versioncontrol.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Version control</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/platform/access.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Access control</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/platform/reusability.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Reusability</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-93e7e794><!----><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/reference/glossary.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Glossary</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _reference_providers_postgrest" data-v-39a288b8><div><h1 id="postgresql-provider" tabindex="-1">PostgreSQL provider <a class="header-anchor" href="#postgresql-provider" aria-label="Permalink to &quot;PostgreSQL provider&quot;">​</a></h1><p>OpenCUI also supports the backend component in form of PostgreSQL provider. The backend component can be declaratively defined in two steps: First, create database tables needed by service by adding storage annotation to frames, secondly, provide function implementation using SQL to express business logic. Using backoffice annotation, you can specify how the operation team can access these tables via backoffice.</p><p>There are several advantages of using the backend component approach to build a service provider:</p><ul><li>In addition to declaratively building a database as a content management system, the OpenCUI backend component allows you to implement the service declaratively using SQL. This makes it possible for the business analyst to build the backend.</li><li>Since tables are created based on the data type in the API schema, no explicit conversion code is needed, and rows in the table or view in the database are automatically converted into an object in OpenCUI.</li><li>The admin interface or backoffice can also be automatically created based on annotations so that the operation team can use backoffice to provide the service.</li><li>Backoffice components can be reused by cloning for OpenCUI hosted solutions.</li></ul><h2 id="create-a-postgresql-provider" tabindex="-1">Create a PostgreSQL provider <a class="header-anchor" href="#create-a-postgresql-provider" aria-label="Permalink to &quot;Create a PostgreSQL provider&quot;">​</a></h2><p>To create a PostgreSQL provider:</p><ol><li><p>Within an org, click <strong>Create</strong> on the right side and select <strong>Create provider</strong>.</p><p><img src="/images/provider/postgrest/create-provider.png" alt="create provider"></p></li><li><p>In the Create popup window, complete the form for basic settings:</p><ul><li>Enter a <strong>Project label</strong> for your PostgreSQL provider.</li><li>Select <strong>PostgreSQL</strong> in <strong>Provider type</strong> field.</li><li>Select <strong>OpenCUI-hosted</strong> in <strong>Deploy mode</strong> field as currently we only support hosted mode for PostgreSQL provider.</li><li>Specify a <strong>Region</strong> for your PostgreSQL database.</li><li>Click <strong>Create</strong>.</li></ul><p><img src="/images/provider/postgrest/provider-form.png" alt="provider form"></p></li></ol><h2 id="import-service-interfaces" tabindex="-1">Import service interfaces <a class="header-anchor" href="#import-service-interfaces" aria-label="Permalink to &quot;Import service interfaces&quot;">​</a></h2><p>When you are done with creation, you need to import which service interface this PostgreSQL provider implements.</p><p>To declare the service interface:</p><ol><li>Enter the service component you want to implement.</li><li>Click <strong>Import</strong> on right side of the second navigation bar.</li><li>In the popup window, select your PostgreSQL provider and <strong>Save</strong>.</li></ol><p><img src="/images/provider/postgrest/import-component.png" alt="import component"></p><h2 id="create-tables" tabindex="-1">Create tables <a class="header-anchor" href="#create-tables" aria-label="Permalink to &quot;Create tables&quot;">​</a></h2><p>With postgres provider, it is very convenient to create a database without the SQL <code>CREATE TABLE</code> statement. All you need to do is create frames or select existing frames (Local or Imported) and <strong>Enable Storage</strong>.</p><p><img src="/images/provider/postgrest/enable-storage.png" alt="enable storage"></p><p>A frame represents a table, and slots in this frame represent the table columns:</p><ul><li>Frame label specifies the name of the table.</li><li>Slot label specifies the name of the column in the table.</li><li>Slot type maps to SQL data type that specifies the type of data the column can hold.</li></ul><p><img src="/images/provider/postgrest/data-management.png" alt="data management"></p><p>You can use <strong>Storage Annotations</strong> to declare constraints which are used to specify rules for the data in a table. This ensures the accuracy and reliability of the data in the table. Constraints can be column level or table level, therefore, storage annotations can be slot level or type level. Slot level apply to a column, and type level apply to the whole table.</p><p>If the table needs to be accessed by the operation team on the admin interface, you can also specify it through <strong>Backoffice Annotations</strong>.</p><p>When the postgres provider <strong>Deploy</strong> button is triggered, OpenCUI platform will update the table structure in the corresponding hosted database.</p><div class="tip custom-block"><p class="custom-block-title">Need to know</p><p>When creating a table in hosted database, OpenCUI will automatically add two columns, <code>ID</code> column and <code>created_at</code> column. So, normally, you don&#39;t need to add these two slots in a frame, but you can if you need to.</p></div><h3 id="data-types" tabindex="-1">Data types <a class="header-anchor" href="#data-types" aria-label="Permalink to &quot;Data types&quot;">​</a></h3><p>Data types are a way to limit the kind of data that can be stored in a table: integer, character, date and time, binary, and so on. For sure, there will be some type conversion between OpenCUI platform and SQL date types. For an overview of the available data types:</p><table><thead><tr><th style="text-align:left;">OpenCUI Platform Type</th><th style="text-align:left;">SQL Data Type Examples</th></tr></thead><tbody><tr><td style="text-align:left;">kotlin.Boolean</td><td style="text-align:left;">boolean</td></tr><tr><td style="text-align:left;">kotlin.Float</td><td style="text-align:left;">double precision</td></tr><tr><td style="text-align:left;">kotlin.Int</td><td style="text-align:left;">bigint</td></tr><tr><td style="text-align:left;">kotlin.String</td><td style="text-align:left;">text, char(n), varchar(n)</td></tr><tr><td style="text-align:left;">java.time.LocalDate</td><td style="text-align:left;">date</td></tr><tr><td style="text-align:left;">java.time.LocalDateTime</td><td style="text-align:left;">timestamp without time zone</td></tr><tr><td style="text-align:left;">java.time.LocalTime</td><td style="text-align:left;">time without time zone</td></tr><tr><td style="text-align:left;">java.time.DayOfWeek</td><td style="text-align:left;">text</td></tr><tr><td style="text-align:left;">java.time.Year</td><td style="text-align:left;">bigint</td></tr><tr><td style="text-align:left;">java.time.YearMonth</td><td style="text-align:left;">date</td></tr></tbody></table><p>Types that are not specified in the table above will be considered as string types, including custom entity types. String types can be one of <code>text</code>, <code>char(n)</code> and <code>varchar(n)</code>, where <code>n</code> is a positive integer. For more information about such types in PostgreSQL, click <a href="https://www.postgresql.org/docs/current/datatype-character.html" target="_blank" rel="noreferrer">Character Types</a>.</p><p>If the type conversion is deterministic, you don&#39;t need to worry about it, the SQL data type will be displayed automatically. Otherwise, you need to specify one.</p><p><img src="/images/provider/postgrest/sql-data-type-deterministic.png" alt="sql data type deterministic"><em>Type conversion is deterministic</em></p><p><img src="/images/provider/postgrest/sql-data-type.png" alt="sql data type"><em>Need to specify data type</em></p><h3 id="allow-null" tabindex="-1">Allow null <a class="header-anchor" href="#allow-null" aria-label="Permalink to &quot;Allow null&quot;">​</a></h3><p>By default, a column can hold NULL values. So the Allow Null toggle is enabled by default. To enforce a column to NOT accept NULL values, disable it. For more information about this constraint in PostgreSQL, see <a href="https://www.postgresql.org/docs/current/ddl-constraints.html#id-1.5.4.6.6" target="_blank" rel="noreferrer">Not-Null Constraints</a>.</p><p><img src="/images/provider/postgrest/sql-allow-null.png" alt="sql allow null"></p><h3 id="default-value" tabindex="-1">Default value <a class="header-anchor" href="#default-value" aria-label="Permalink to &quot;Default value&quot;">​</a></h3><p>A column can be assigned a default value. When a new row is created and no values are specified for some of the columns, those columns will be filled with their respective default values. The default value can be a constant or an expression. A common example is for a <code>java.time.LocalTime</code> slot, you can set default value as <code>now()</code>. For more information about default value in PostgreSQL, click <a href="https://www.postgresql.org/docs/current/ddl-default.html" target="_blank" rel="noreferrer">Default Values</a>.</p><p><img src="/images/provider/postgrest/sql-default-value.png" alt="sql default value"></p><h3 id="unique" tabindex="-1">Unique <a class="header-anchor" href="#unique" aria-label="Permalink to &quot;Unique&quot;">​</a></h3><p>Unique ensure that the data contained in a column, or a group of columns, is unique among all the rows in the table. It is a type level annotation, you can have many unique constraints per table.</p><p>You can set one slot in one unique constraint, this specifies that all values in this column are different. You can also set a group of slots in one unique, this specifies that the combination of values in the indicated columns is unique across the whole table, though any one of the columns need not be (and ordinarily isn&#39;t) unique. For more information about unique constraints in PostgreSQL, see <a href="https://www.postgresql.org/docs/current/ddl-constraints.html#DDL-CONSTRAINTS-UNIQUE-CONSTRAINTS" target="_blank" rel="noreferrer">Unique Constraints</a>.</p><p><img src="/images/provider/postgrest/unique.png" alt="unique"></p><h3 id="input-type" tabindex="-1">Input type <a class="header-anchor" href="#input-type" aria-label="Permalink to &quot;Input type&quot;">​</a></h3><p>Input type is a backoffice annotation, indicating how the operation team input data values on the admin interface. Here are three options: text, dropdown and media.</p><p><img src="/images/provider/postgrest/sql-input-type.png" alt="sql input type"></p><ul><li><p>Text: An input box for the data value, allowing to enter any content.</p><p><img src="/images/provider/postgrest/input-text.png" alt="input text"></p></li><li><p>Dropdown: A dropdown menu for displaying choices. To select value from options makes it easier for operators to input legit and compatible value.</p><p><img src="/images/provider/postgrest/dropdown-annotation.png" alt="dropdown annotation"></p><p>Currently dropdown only supports static options, which can be defined via JSON:</p><ul><li>JSON Representation</li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;display1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;display2&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><ul><li>Fields</li></ul><table><thead><tr><th style="text-align:left;">Fields</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>id</code></td><td style="text-align:left;">string</td><td style="text-align:left;"><em>Required</em>. Stored as value in the database.</td></tr><tr><td style="text-align:left;"><code>name</code></td><td style="text-align:left;">string</td><td style="text-align:left;"><em>Required</em>. Displayed in backoffice (admin interface).</td></tr></tbody></table><p>For example, you can provide a dropdown list statically via JSON like this:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;imax3d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;IMAX 3D&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;digital3d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Digital 3D&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;standard&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Standard&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>Then operators can select the value from the select component in backoffice like this:</p><p><img src="/images/provider/postgrest/dropdown.png" alt="dropdown"></p></li><li><p>Media</p><p>By setting input type to media, operators can upload pictures by selecting or dragging in the backoffice and the URLs of pictures will be stored in cells automatically. When you need to send rich messages to users, you can use these URLs for displaying.</p><p>For example, there is a slot called <em>photo</em> of which input type is media on OpenCUI. In its corresponding column in backoffice, you can upload a picture and view the picture in the table.</p><p><img src="/images/provider/postgrest/upload-picture.png" alt="upload picture"><em>Figure 1: upload pictures</em></p><p><img src="/images/provider/postgrest/view-picture.png" alt="view picture"><em>Figure 2: view pitures in the table</em></p></li></ul><div class="tip custom-block"><p class="custom-block-title">Need to know</p><p>When the SQL data type is one of <code>text</code>, <code>varchar</code> and <code>varchar(n)</code>, you can choose <strong>Media</strong>.</p></div><h2 id="provide-function-implementation" tabindex="-1">Provide function implementation <a class="header-anchor" href="#provide-function-implementation" aria-label="Permalink to &quot;Provide function implementation&quot;">​</a></h2><p>To provide function implementation, you need to add service interface to implement first.</p><p>Back to your PostgreSQL provider, and head to <strong>Service</strong> page from the navigation bar. In the <strong>Implemented</strong> section, select the service interface you want to implement.</p><p><img src="/images/provider/postgrest/function-implementation.png" alt="function implementation"></p><p>Then all the functions on the service interface will be shown. To implement a fucntion, click one of the functions in <strong>Functions</strong> section. In the function popup window, you can provide the implementation in <strong>Provider Dependent</strong> script language or just in <strong>Kotlin</strong>. No matter which language you will be using, OpenCUI provides a built-in <strong>Auto Completion</strong> feature to help you with your implementation.</p><p><img src="/images/provider/postgrest/click-function.png" alt="click a function"><em>Click a function</em></p><p><img src="/images/provider/postgrest/implement-function.png" alt="implement function"><em>Provide implementation</em></p><h3 id="pl-pgsql" tabindex="-1">PL/pgSQL <a class="header-anchor" href="#pl-pgsql" aria-label="Permalink to &quot;PL/pgSQL&quot;">​</a></h3><p>For PostgreSQL providers, the provider dependent language is <a href="https://www.postgresql.org/docs/current/plpgsql.html" target="_blank" rel="noreferrer">PL/pgSQL</a>. If you are familiar with <a href="https://www.postgresql.org/docs/14/sql.html" target="_blank" rel="noreferrer">SQL</a>, writing SQL commands within a PL/pgSQL function will be easy.</p><p>For example, if you&#39;ve stored your customers&#39; information in your database and you want to get a customer&#39;s name by their user ID, which is an input parameter named <em>userId_input</em>, the code will be like this:</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DECLARE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BEGIN</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Info&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> WHERE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;userId&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;userId_input&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> INTO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    RETURN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">END</span></span></code></pre></div><p>Besides, <a href="https://www.postgresql.org/docs/current/plpgsql.html" target="_blank" rel="noreferrer">PL/pgSQL language</a> also supports <a href="https://www.postgresql.org/docs/current/plpgsql-control-structures.html#PLPGSQL-CONTROL-STRUCTURES-LOOPS" target="_blank" rel="noreferrer">simple loops</a> and <a href="https://www.postgresql.org/docs/current/plpgsql-control-structures.html#PLPGSQL-CONDITIONALS" target="_blank" rel="noreferrer">conditionals</a>.</p><div class="tip custom-block"><p class="custom-block-title">Need to know</p><p>If the return value is not a storage-enabled frame and the type of slot in the frame is <strong>builder-define entity</strong> or <em><strong>kotlin.String</strong></em>, check whether the type of its corresponding column is <em>text</em> in PostgreSQL. If not, use <code>::text</code> to convert the type of column into <em>text</em>.</p><p>For example, when calling a function, it returns sets of <em>dishId</em> and <em>dishName</em> values. The type of <em>dishName</em> is <em>customized entity</em> and its corresponding column is <em>varchar(50)</em> in PostgreSQL. Add <code>::text</code> behind <em>dishName</em> to convert <em>varchar(50)</em> to <em>text</em>, so that the conversion between OpenCUI and PostgreSQL can work smoothly.</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BEGIN</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    RETURN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> QUERY </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    SELECT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;dishId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dishName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;dishItem&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">END</span></span></code></pre></div></div><p>When the function returns a set of values of <strong>composite type</strong>, we convert the composite type back to a <strong>frame</strong>, so you can display or use these values in the OpenCUI environment. When returning values, be sure to follow these rules.</p><ul><li>The <strong>types</strong> of slots in the the frame should be compatible with the types of return columns in the same index. For example, if the types of slots in the frame are [<em>kotlin.Int</em>, <em>kotlin.String</em>], the SQL data types of return columns should be [<em>bigint</em>, <em>text</em>] instead of [<em>text</em>, <em>bigint</em>].</li><li>The <strong>labels</strong> of slots in the the frame and the names of columns in the same index can be different. For example, if the labels of slots in a frame are [<em>id</em>, <em>name</em>], the names of return columns can be [<em>userId</em>, <em>userName</em>].</li></ul><h3 id="kotlin" tabindex="-1">Kotlin <a class="header-anchor" href="#kotlin" aria-label="Permalink to &quot;Kotlin&quot;">​</a></h3><p>In OpenCUI, function can always be implemented in <strong>Kotlin</strong>, known as native functions. For more information about Kotlin, see <a href="https://kotlinlang.org/docs/functions.html" target="_blank" rel="noreferrer">Kotlin</a>.</p><h3 id="function-console" tabindex="-1">Function Console <a class="header-anchor" href="#function-console" aria-label="Permalink to &quot;Function Console&quot;">​</a></h3><p>When you finish implementing the function, before you wire it to the chatbot, you can verify whether your implementation is as expected through <strong>Function Console</strong>. Currently, function console can only test <strong>Provider dependent</strong> implementations. To use function console, following these steps:</p><ol><li><p>Deploy your postgres provider. In the navigation bar, select <strong>Versions</strong> tab, click <strong>Deploy backend</strong> in the upper-right corner of the Versions area. Make sure that all changes including function implementations are merged into master and deployed successfully.</p><p><img src="/images/provider/postgrest/deploy-hours.png" alt="depl hours provider"></p></li><li><p>After deploying, switch to <strong>Service</strong> tab. In the upper-right corner of the Service area, click <strong>Debug</strong>.</p><p><img src="/images/provider/postgrest/click-test.png" alt="click test"></p></li><li><p>In <strong>Function Console</strong>, select a function and pass values to parameters.</p><ul><li>If you want to pass null to a parameter, just leave it empty.</li><li>If the type of a parameter is entity, you can type its value directly.</li><li>If the type of a parameter is frame, please use JSON format.</li></ul></li><li><p>Click <strong>Execute</strong>, then you can see the returns in <strong>Result</strong> section. As shown below, this function will return the business hours on a day.</p><p><img src="/images/provider/postgrest/function-testing.png" alt="function testing"></p></li></ol><h2 id="access-backoffice" tabindex="-1">Access Backoffice <a class="header-anchor" href="#access-backoffice" aria-label="Permalink to &quot;Access Backoffice&quot;">​</a></h2><p>Once the table structure has been declared in OpenCUI platform, the hosted database can be accessed through <strong>Backoffice</strong> (the admin interface). To access the actual data source, you need to deploy the postgres provider first.</p><ol><li>In the navigation bar, select the <strong>Versions</strong> tab.</li><li>Click <strong>Deploy</strong> in the upper-right corner of the Versions area.</li></ol><p><img src="/images/provider/postgrest/sql-deploy.png" alt="deploy postgres provider"></p><p>When the <strong>Deploy backend</strong> button is triggered, OpenCUI platform will update the table structure in the corresponding hosted database. Then, you can log in to the backoffice to access the actual data source through Postgres provider configuration information.</p><ol><li>Switch to <strong>Settings</strong> tab, then in the <strong>Backoffice</strong> section, you can get the configuration information.</li><li>Copy and paste the <strong>URL</strong> to your browser, use <strong>Admin Email</strong> and <strong>Admin Password</strong> to log in to backoffice.</li></ol><p><img src="/images/provider/postgrest/configuration.png" alt="configuration"><em>Configuration information</em></p><p><img src="/images/provider/postgrest/backoffice.png" alt="backoffice"><em>Backoffice, the admin interface</em></p><div class="warning custom-block"><p class="custom-block-title">Caution</p><p>Be very careful with table schema changes, remember to manually modify data in backoffice that is no longer compatible.</p></div><h2 id="wire-to-chatbot" tabindex="-1">Wire to Chatbot <a class="header-anchor" href="#wire-to-chatbot" aria-label="Permalink to &quot;Wire to Chatbot&quot;">​</a></h2><p>Once you have a PostgreSQL provider running, you need to wire this implementation to its service interface in your chatbot that allows chatbots to communicate with data source. To wire PostgreSQL provider to chatbot, you can follow these steps below:</p><ol><li><p>Declare service interface implemented by this PostgreSQL provider in chatbot. It means you need to import service component into your chatbot. Click into the service component, and <strong>import</strong> it into your chatbot.</p><p><img src="/images/provider/postgrest/import-service-into-chatbot.png" alt="import service into chatbot"></p></li><li><p>Switch to your chatbot, wire PostgreSQL provider to its service interface.</p><ul><li>Head to <strong>Settings</strong> page from the navigation bar.</li><li>Switch to <strong>Integrations</strong> tab, in the <strong>Debug service provider</strong> section or <strong>Deploy service provider</strong> section, select the service interface you just imported and the PostgreSQL provider that implements it. At the same time, a label needs to be added to show different integration.</li></ul><p><img src="/images/provider/postgrest/chatbot-integration.png" alt="chatbot integration"></p></li></ol><p>After wiring the PostgreSQL provider, you can edit it at any time. However, it&#39;s important to remember to merge your latest changes to the master branch and redeploy the provider in order to ensure that your chatbot is using the most up-to-date version.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--]--><div class="edit-info" data-v-09de1c0f><!----><div class="last-updated" data-v-09de1c0f><p class="VPLastUpdated" data-v-09de1c0f data-v-7e05ebdb>Last updated: <time datetime="2024-01-03T06:03:36.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" data-v-09de1c0f><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link prev" href="/reference/providers/overview.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>Previous page</span><span class="title" data-v-09de1c0f>Overview</span><!--]--></a></div><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link next" href="/reference/channels/overview.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>Next page</span><span class="title" data-v-09de1c0f>Overview</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><!----><p class="copyright" data-v-e315a0ad>OpenCUI, Inc © 2024 All rights reserved</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"articles_from-schema-to-snippets.md\":\"Bqm-LLWD\",\"articles_reservation-cui-design.md\":\"GsBzMPOM\",\"essentials_architecture.md\":\"0uwtbsVk\",\"essentials_du_tuning-strategy.md\":\"D-Hs-Cic\",\"essentials_index.md\":\"DfHDNCKN\",\"reference_platform_multilingual.md\":\"C0RPVfVl\",\"reference_guide_signingup.md\":\"BwLTIGxS\",\"articles_reservation_readme.md\":\"R3zW1J9x\",\"reference_channels_messenger.md\":\"CkgCldW6\",\"articles_reservation_google-calendar-reservation.md\":\"COMjVEw7\",\"reference_platform_deployment.md\":\"DNOIQjNO\",\"articles_build-reservation-module.md\":\"DikMPx8r\",\"reference_platform_reusability.md\":\"BYlr6WUi\",\"reference_channels_universalmessage.md\":\"Z60cF0dA\",\"reference_platform_testing.md\":\"BTJCu4k9\",\"reference_plugins_components_datepicker_index.md\":\"Dn1tovap\",\"reference_platform_versioncontrol.md\":\"DNYjAH_c\",\"reference_providers_googlesheets.md\":\"R0vlK9eY\",\"reference_plugins_components_datepicker_datepicker-design.md\":\"V3TbNfJK\",\"copilot_overview.md\":\"BQ2Ty8jj\",\"copilot_why-copilot.md\":\"Bx2BoNf7\",\"index.md\":\"Dx7PNWiK\",\"essentials_document-requirement-for-cui.md\":\"FoUaXjeQ\",\"reference_annotations_templateandexemplar.md\":\"B-890xH2\",\"copilot_define-api.md\":\"B6BIwcCO\",\"reference_guide_opencui-flow.md\":\"Br_qIrP-\",\"copilot_build-copilot.md\":\"BDe7eaqz\",\"reference_annotations_transition.md\":\"DQiD4ZSP\",\"essentials_du_chatgpt-reset.md\":\"DoPtvbJY\",\"reference_annotations_valuecheck.md\":\"4CnPuOcd\",\"articles_reuse-reservation-module.md\":\"DDEoUIYM\",\"reference_channels_wpa.md\":\"BcHeeyho\",\"reference_channels_whatsapp.md\":\"DD1fg3rH\",\"reference_conversation-design_design-for-long-tail.md\":\"Fus1TQAq\",\"reference_conversation-design_conversation-design.md\":\"CZfmW0Ig\",\"reference_channels_googlebusiness.md\":\"CTx49kPr\",\"reference_conversation-design_get-started.md\":\"h504Lgeq\",\"reference_conversation-design_gathering-requirements.md\":\"BuQFKBN8\",\"reference_conversation-design_scale-your-design.md\":\"rZ0neX1W\",\"reference_conversation-design_test-and-iterate.md\":\"Cj_Rg9kW\",\"reference_conversation-design_key-use-cases.md\":\"SbdQOyVi\",\"reference_guide_are-you-ready.md\":\"FO4SQ4Xy\",\"reference_glossary.md\":\"BMcvZQTj\",\"reference_guide_build-module.md\":\"kRG2Eu1W\",\"reference_guide_3layers.md\":\"wF7s08hg\",\"reference_guide_build-simple-chatbot.md\":\"CH6GW6eR\",\"reference_guide_build-provider.md\":\"CsBiyHu4\",\"copilot_opencui-sdk.md\":\"DhjY3Cvg\",\"reference_guide_clone-simple-chatbot.md\":\"2K7RME0N\",\"reference_guide_index.md\":\"DS_ALjK4\",\"reference_guide_deploy-to-channel.md\":\"yMMT8Vwy\",\"reference_guide_concepts.md\":\"BAwc2G9N\",\"essentials_du_maintainable-accuracy.md\":\"Dehdy1Q-\",\"reference_annotations_fillstrategy.md\":\"M_dqhXyT\",\"articles_chatbot-development-with-opencui.md\":\"DFvuiTMY\",\"essentials_du_new-formulations.md\":\"a0TyqG9p\",\"reference_annotations_systemcomponent.md\":\"zF0Qksbj\",\"reference_annotations_overview.md\":\"C8gdyqhV\",\"essentials_components.md\":\"dfRxGk3M\",\"essentials_du_towards-zero-shot.md\":\"Cv7ig6Ec\",\"reference_index.md\":\"CLIQClTm\",\"essentials_5levels-cui.md\":\"DleMDsAF\",\"reference_annotations_valuerec.md\":\"6JGtu5kU\",\"policy_privacy.md\":\"CcbqRm4T\",\"essentials_dual-process.md\":\"DcW2aDXJ\",\"articles_reservation_reservation-api.md\":\"wsJnoqQ3\",\"articles_index.md\":\"DpPk6wG0\",\"essentials_cooperative.md\":\"B9xLqsFw\",\"reference_annotations_init.md\":\"BxeIo6qE\",\"reference_annotations_kotlinexpression.md\":\"DW9doe1Z\",\"reference_platform_access.md\":\"J4R-uP_I\",\"reference_providers_native.md\":\"VnpUXQKm\",\"reference_annotations_confirmation.md\":\"vgztIO1a\",\"reference_support_overview.md\":\"B7aUBAjw\",\"pricing_index.md\":\"BSahpB5K\",\"essentials_du_du-theory.md\":\"BZDcMMGZ\",\"reference_providers_extension.md\":\"k6DXQKAI\",\"reference_conversation-design_design-interactions.md\":\"CuhcliE_\",\"essentials_newformulation.md\":\"3x3MgHtw\",\"reference_providers_overview.md\":\"BSVoRzqy\",\"reference_providers_postgrest.md\":\"B-3IpVUb\",\"reference_channels_overview.md\":\"CevogcFh\",\"policy_terms.md\":\"Jy2z_DwH\",\"reference_guide_reuse-component.md\":\"Cykv1b9-\",\"reference_support_chatwoot.md\":\"UGKCbkSC\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"OpenCUI\",\"description\":\"Type-based Approach for Chatbot Development\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":\"force-dark\",\"themeConfig\":{\"logo\":\"/images/logo.png\",\"outline\":\"deep\",\"nav\":[{\"text\":\"Why OpenCUI\",\"link\":\"/essentials/\",\"activeMatch\":\"/essentials/\"},{\"text\":\"Resources\",\"link\":\"/reference/guide/signingup\",\"activeMatch\":\"/reference/\"},{\"text\":\"Pricing\",\"link\":\"/pricing/\",\"activeMatch\":\"/pricing/\"},{\"text\":\"Blog\",\"link\":\"/articles/\",\"activeMatch\":\"/articles/\"}],\"sidebar\":{\"/essentials/\":[{\"text\":\"Why OpenCUI\",\"items\":[{\"text\":\"Dual process\",\"link\":\"/essentials/dual-process\"},{\"text\":\"Schema-guided conversational experiences\",\"link\":\"/essentials/\"},{\"text\":\"Cooperative principle\",\"link\":\"/essentials/cooperative\"},{\"text\":\"5 levels of CUI\",\"link\":\"/essentials/5levels-cui\"},{\"text\":\"Open sourced runtime\",\"link\":\"/essentials/architecture\"},{\"text\":\"Document CUI design\",\"link\":\"/essentials/document-requirement-for-cui\"},{\"text\":\"Dialog Understanding\",\"items\":[{\"text\":\"1: A ChatGPT reset\",\"link\":\"/essentials/du/chatgpt-reset\"},{\"text\":\"2: Theory\",\"link\":\"/essentials/du/du-theory\"},{\"text\":\"3: Towards zero shot\",\"link\":\"/essentials/du/towards-zero-shot\"},{\"text\":\"4: New formulations\",\"link\":\"/essentials/du/new-formulations\"},{\"text\":\"5: Tuning strategy\",\"link\":\"/essentials/du/tuning-strategy\"},{\"text\":\"6: Maintainable accuracy\",\"link\":\"/essentials/du/maintainable-accuracy\"}]}]}],\"/copilot/\":[{\"text\":\"Copilot\",\"items\":[{\"text\":\"Why copilot\",\"link\":\"/copilot/why-copilot\"},{\"text\":\"Development overview\",\"link\":\"/copilot/overview\"},{\"text\":\"Implement copilot meta API\",\"link\":\"/copilot/define-api\"},{\"text\":\"Build copilot backend\",\"link\":\"/copilot/build-copilot\"},{\"text\":\"Build copilot frontend\",\"link\":\"/copilot/opencui-sdk\"}]}],\"/reference/\":[{\"text\":\"Quickstart\",\"collapsed\":false,\"items\":[{\"text\":\"Get started\",\"link\":\"/reference/guide/signingup\"},{\"text\":\"Clone an echo chatbot\",\"link\":\"/reference/guide/clone-simple-chatbot\"},{\"text\":\"Build an echo chatbot\",\"link\":\"/reference/guide/build-simple-chatbot\"},{\"text\":\"Reuse an hours module\",\"link\":\"/reference/guide/reuse-component\"},{\"text\":\"Build an hours module\",\"link\":\"/reference/guide/build-module\"},{\"text\":\"Build an hours provider\",\"link\":\"/reference/guide/build-provider\"},{\"text\":\"Deploy a chatbot\",\"link\":\"/reference/guide/deploy-to-channel\"},{\"text\":\"Get a team\",\"link\":\"/reference/guide/are-you-ready\"},{\"text\":\"OpenCUI workflow\",\"link\":\"/reference/guide/opencui-flow\"},{\"text\":\"Key concepts\",\"link\":\"/reference/guide/concepts\"}]},{\"text\":\"CUI components\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/annotations/overview\"},{\"text\":\"Fill strategy\",\"link\":\"/reference/annotations/fillstrategy\"},{\"text\":\"Initialization\",\"link\":\"/reference/annotations/init\"},{\"text\":\"Value recommendation\",\"link\":\"/reference/annotations/valuerec\"},{\"text\":\"Value check\",\"link\":\"/reference/annotations/valuecheck\"},{\"text\":\"Confirmation\",\"link\":\"/reference/annotations/confirmation\"},{\"text\":\"State transition\",\"link\":\"/reference/annotations/transition\"},{\"text\":\"System CUI Components\",\"link\":\"/reference/annotations/systemcomponent\"}]},{\"text\":\"Providers\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/providers/overview\"},{\"text\":\"PostgreSQL provider\",\"link\":\"/reference/providers/postgrest\"}]},{\"text\":\"Channels\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/channels/overview\"},{\"text\":\"Universal Channel\",\"link\":\"/reference/channels/universalmessage\"},{\"text\":\"Google Business Message\",\"link\":\"/reference/channels/googlebusiness\"},{\"text\":\"Messenger\",\"link\":\"/reference/channels/messenger\"},{\"text\":\"WhatsApp\",\"link\":\"/reference/channels/whatsapp\"}]},{\"text\":\"Supports\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/support/overview\"},{\"text\":\"Chatwoot\",\"link\":\"/reference/support/Chatwoot\"}]},{\"text\":\"Extension\",\"collapsed\":false,\"items\":[{\"text\":\"Extensions\",\"link\":\"/reference/providers/extension\"},{\"text\":\"Native provider\",\"link\":\"/reference/providers/native\"}]},{\"text\":\"Conversation Design\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/conversation-design/conversation-design\"},{\"text\":\"Get started\",\"link\":\"/reference/conversation-design/get-started\"},{\"text\":\"Gathering requirements\",\"link\":\"/reference/conversation-design/gathering-requirements\"},{\"text\":\"Design interactions\",\"link\":\"/reference/conversation-design/design-interactions\"},{\"text\":\"Key use cases\",\"link\":\"/reference/conversation-design/key-use-cases\"},{\"text\":\"Test and iterate\",\"link\":\"/reference/conversation-design/test-and-iterate\"},{\"text\":\"Design for the long tail\",\"link\":\"/reference/conversation-design/design-for-long-tail\"},{\"text\":\"Scale your design\",\"link\":\"/reference/conversation-design/scale-your-design\"}]},{\"text\":\"Platform\",\"collapsed\":false,\"items\":[{\"text\":\"Multilingual\",\"link\":\"/reference/platform/multilingual\"},{\"text\":\"Testing\",\"link\":\"/reference/platform/testing\"},{\"text\":\"Deployment\",\"link\":\"/reference/platform/deployment\"},{\"text\":\"Version control\",\"link\":\"/reference/platform/versioncontrol\"},{\"text\":\"Access control\",\"link\":\"/reference/platform/access\"},{\"text\":\"Reusability\",\"link\":\"/reference/platform/reusability\"}]},{\"text\":\"Glossary\",\"link\":\"/reference/glossary\"}],\"/policy/\":[{\"text\":\"Terms of service\",\"link\":\"/policy/terms\"},{\"text\":\"Privacy policy\",\"link\":\"/policy/privacy\"}]},\"footer\":{\"copyright\":\"OpenCUI, Inc © 2024 All rights reserved\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>